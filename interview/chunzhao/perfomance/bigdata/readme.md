# 十万条数据

引导面试官问envent loop
重绘重排
盒模型和位置计算

- 执行时间和渲染时间
  EventLoop  
  - 主线程同步任务
  - 微任务 一次执行一个队列
  - 界面更新
  - 宏任务 

- 耗时原因
  通过performance 工具 分析时间花销
  - 重新计算样式 新增html片段和css 结合 盒模型和位置计算 -> url -> 显示整个页面
  - 布局 
    盒模型和位置计算的过程
  
  
- 体验差
  页面的卡顿的由于同时渲染大量DOM所引起的，所以我们考虑将渲染过程分批进行(交出执行权) 
  页面不可以交互
  setTimeout 宏任务 分批次执行 不会卡顿

- 页面不流畅，闪屏
  setTimeout(1s/20条绘制需要的时间) 绘制页面的频率和屏幕的刷新率(60HZ) 不一致

  同频道 分批次刷新
  requestAnimationFrame  

- 以上是从工程上解决(技术)
  从用户角度 没有必要渲染那么多的数据
  - 懒加载 onscroll 按需加载
  - 分页 
  - 虚拟列表 